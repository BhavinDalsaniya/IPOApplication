"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stock-price/update/route";
exports.ids = ["app/api/stock-price/update/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-price%2Fupdate%2Froute&page=%2Fapi%2Fstock-price%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-price%2Fupdate%2Froute.ts&appDir=C%3A%5CGame%20Cards%5CIPO%20Application%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CGame%20Cards%5CIPO%20Application&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-price%2Fupdate%2Froute&page=%2Fapi%2Fstock-price%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-price%2Fupdate%2Froute.ts&appDir=C%3A%5CGame%20Cards%5CIPO%20Application%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CGame%20Cards%5CIPO%20Application&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Game_Cards_IPO_Application_app_api_stock_price_update_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/stock-price/update/route.ts */ \"(rsc)/./app/api/stock-price/update/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stock-price/update/route\",\n        pathname: \"/api/stock-price/update\",\n        filename: \"route\",\n        bundlePath: \"app/api/stock-price/update/route\"\n    },\n    resolvedPagePath: \"C:\\\\Game Cards\\\\IPO Application\\\\app\\\\api\\\\stock-price\\\\update\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Game_Cards_IPO_Application_app_api_stock_price_update_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/stock-price/update/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdG9jay1wcmljZSUyRnVwZGF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc3RvY2stcHJpY2UlMkZ1cGRhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzdG9jay1wcmljZSUyRnVwZGF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDR2FtZSUyMENhcmRzJTVDSVBPJTIwQXBwbGljYXRpb24lNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNHYW1lJTIwQ2FyZHMlNUNJUE8lMjBBcHBsaWNhdGlvbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDd0I7QUFDckc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pcG8tYXBwbGljYXRpb24vPzM1MDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcR2FtZSBDYXJkc1xcXFxJUE8gQXBwbGljYXRpb25cXFxcYXBwXFxcXGFwaVxcXFxzdG9jay1wcmljZVxcXFx1cGRhdGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0b2NrLXByaWNlL3VwZGF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N0b2NrLXByaWNlL3VwZGF0ZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvc3RvY2stcHJpY2UvdXBkYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcR2FtZSBDYXJkc1xcXFxJUE8gQXBwbGljYXRpb25cXFxcYXBwXFxcXGFwaVxcXFxzdG9jay1wcmljZVxcXFx1cGRhdGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3N0b2NrLXByaWNlL3VwZGF0ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-price%2Fupdate%2Froute&page=%2Fapi%2Fstock-price%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-price%2Fupdate%2Froute.ts&appDir=C%3A%5CGame%20Cards%5CIPO%20Application%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CGame%20Cards%5CIPO%20Application&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/stock-price/update/route.ts":
/*!*********************************************!*\
  !*** ./app/api/stock-price/update/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_stockPrice__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/stockPrice */ \"(rsc)/./lib/stockPrice.ts\");\n\n\n\n/**\n * API endpoint to update stock prices for all listed IPOs\n * Can be called manually or via cron job\n */ async function POST(request) {\n    try {\n        // Get all listed IPOs with symbols and exchange info\n        const ipos = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.iPO.findMany({\n            where: {\n                status: \"listed\"\n            }\n        });\n        if (ipos.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"No listed IPOs found\",\n                updated: 0\n            });\n        }\n        let updatedCount = 0;\n        const results = [];\n        // Fetch prices for each IPO individually (to use correct exchange)\n        for (const ipo of ipos){\n            // Skip IPOs without a symbol\n            if (!ipo.symbol || ipo.symbol.trim() === \"\") {\n                results.push({\n                    name: ipo.name,\n                    status: \"skipped\",\n                    error: \"No symbol\"\n                });\n                continue;\n            }\n            try {\n                const quote = await (0,_lib_stockPrice__WEBPACK_IMPORTED_MODULE_2__.fetchStockPrice)(ipo.symbol, ipo.exchange || \"NSE\");\n                if (!quote) {\n                    results.push({\n                        symbol: ipo.symbol,\n                        status: \"not_found\",\n                        error: \"No data from API\"\n                    });\n                    continue;\n                }\n                const oldPrice = ipo.latestPrice;\n                const priceChangePercent = ipo.offerPriceMax ? (0,_lib_stockPrice__WEBPACK_IMPORTED_MODULE_2__.calculateIPOGain)(quote.price, ipo.offerPriceMax) : null;\n                await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.iPO.update({\n                    where: {\n                        id: ipo.id\n                    },\n                    data: {\n                        latestPrice: quote.price,\n                        priceChangePercent,\n                        priceUpdatedAt: new Date()\n                    }\n                });\n                // Log the price update\n                await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.priceUpdateLog.create({\n                    data: {\n                        ipoId: ipo.id,\n                        symbol: ipo.symbol,\n                        oldPrice,\n                        newPrice: quote.price,\n                        changePercent: priceChangePercent,\n                        source: \"API\"\n                    }\n                });\n                updatedCount++;\n                results.push({\n                    symbol: ipo.symbol,\n                    name: ipo.name,\n                    oldPrice,\n                    newPrice: quote.price,\n                    changePercent: priceChangePercent\n                });\n                // Small delay between requests to avoid rate limiting\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n            } catch (error) {\n                console.error(`Error updating ${ipo.symbol}:`, error.message);\n                results.push({\n                    symbol: ipo.symbol,\n                    status: \"error\",\n                    error: error.message\n                });\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: `Updated ${updatedCount} IPO prices`,\n            updated: updatedCount,\n            total: ipos.length,\n            results\n        });\n    } catch (error) {\n        console.error(\"Error updating stock prices:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to update stock prices\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * GET - Check when prices were last updated\n */ async function GET(request) {\n    try {\n        const ipos = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.iPO.findMany({\n            where: {\n                status: \"listed\"\n            },\n            select: {\n                id: true,\n                symbol: true,\n                name: true,\n                exchange: true,\n                latestPrice: true,\n                priceChangePercent: true,\n                priceUpdatedAt: true\n            },\n            orderBy: {\n                priceUpdatedAt: \"desc\"\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            count: ipos.length,\n            ipos\n        });\n    } catch (error) {\n        console.error(\"Error fetching price status:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch price status\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N0b2NrLXByaWNlL3VwZGF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF1RDtBQUNsQjtBQUN5RDtBQUU5Rjs7O0NBR0MsR0FDTSxlQUFlSSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YscURBQXFEO1FBQ3JELE1BQU1DLE9BQU8sTUFBTUwsK0NBQU1BLENBQUNNLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDO1lBQ3JDQyxPQUFPO2dCQUNMQyxRQUFRO1lBQ1Y7UUFDRjtRQUVBLElBQUlKLEtBQUtLLE1BQU0sS0FBSyxHQUFHO1lBQ3JCLE9BQU9YLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7Z0JBQXdCQyxTQUFTO1lBQUU7UUFDekU7UUFFQSxJQUFJQyxlQUFlO1FBQ25CLE1BQU1DLFVBQWlCLEVBQUU7UUFFekIsbUVBQW1FO1FBQ25FLEtBQUssTUFBTUMsT0FBT1gsS0FBTTtZQUN0Qiw2QkFBNkI7WUFDN0IsSUFBSSxDQUFDVyxJQUFJQyxNQUFNLElBQUlELElBQUlDLE1BQU0sQ0FBQ0MsSUFBSSxPQUFPLElBQUk7Z0JBQzNDSCxRQUFRSSxJQUFJLENBQUM7b0JBQ1hDLE1BQU1KLElBQUlJLElBQUk7b0JBQ2RYLFFBQVE7b0JBQ1JZLE9BQU87Z0JBQ1Q7Z0JBQ0E7WUFDRjtZQUVBLElBQUk7Z0JBQ0YsTUFBTUMsUUFBUSxNQUFNckIsZ0VBQWVBLENBQUNlLElBQUlDLE1BQU0sRUFBRUQsSUFBSU8sUUFBUSxJQUFJO2dCQUVoRSxJQUFJLENBQUNELE9BQU87b0JBQ1ZQLFFBQVFJLElBQUksQ0FBQzt3QkFDWEYsUUFBUUQsSUFBSUMsTUFBTTt3QkFDbEJSLFFBQVE7d0JBQ1JZLE9BQU87b0JBQ1Q7b0JBQ0E7Z0JBQ0Y7Z0JBRUEsTUFBTUcsV0FBV1IsSUFBSVMsV0FBVztnQkFDaEMsTUFBTUMscUJBQXFCVixJQUFJVyxhQUFhLEdBQ3hDekIsaUVBQWdCQSxDQUFDb0IsTUFBTU0sS0FBSyxFQUFFWixJQUFJVyxhQUFhLElBQy9DO2dCQUVKLE1BQU0zQiwrQ0FBTUEsQ0FBQ00sR0FBRyxDQUFDdUIsTUFBTSxDQUFDO29CQUN0QnJCLE9BQU87d0JBQUVzQixJQUFJZCxJQUFJYyxFQUFFO29CQUFDO29CQUNwQkMsTUFBTTt3QkFDSk4sYUFBYUgsTUFBTU0sS0FBSzt3QkFDeEJGO3dCQUNBTSxnQkFBZ0IsSUFBSUM7b0JBQ3RCO2dCQUNGO2dCQUVBLHVCQUF1QjtnQkFDdkIsTUFBTWpDLCtDQUFNQSxDQUFDa0MsY0FBYyxDQUFDQyxNQUFNLENBQUM7b0JBQ2pDSixNQUFNO3dCQUNKSyxPQUFPcEIsSUFBSWMsRUFBRTt3QkFDYmIsUUFBUUQsSUFBSUMsTUFBTTt3QkFDbEJPO3dCQUNBYSxVQUFVZixNQUFNTSxLQUFLO3dCQUNyQlUsZUFBZVo7d0JBQ2ZhLFFBQVE7b0JBQ1Y7Z0JBQ0Y7Z0JBRUF6QjtnQkFDQUMsUUFBUUksSUFBSSxDQUFDO29CQUNYRixRQUFRRCxJQUFJQyxNQUFNO29CQUNsQkcsTUFBTUosSUFBSUksSUFBSTtvQkFDZEk7b0JBQ0FhLFVBQVVmLE1BQU1NLEtBQUs7b0JBQ3JCVSxlQUFlWjtnQkFDakI7Z0JBRUEsc0RBQXNEO2dCQUN0RCxNQUFNLElBQUljLFFBQVFDLENBQUFBLFVBQVdDLFdBQVdELFNBQVM7WUFDbkQsRUFBRSxPQUFPcEIsT0FBTztnQkFDZHNCLFFBQVF0QixLQUFLLENBQUMsQ0FBQyxlQUFlLEVBQUVMLElBQUlDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRUksTUFBTVQsT0FBTztnQkFDNURHLFFBQVFJLElBQUksQ0FBQztvQkFDWEYsUUFBUUQsSUFBSUMsTUFBTTtvQkFDbEJSLFFBQVE7b0JBQ1JZLE9BQU9BLE1BQU1ULE9BQU87Z0JBQ3RCO1lBQ0Y7UUFDRjtRQUVBLE9BQU9iLHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7WUFDdkJDLFNBQVMsQ0FBQyxRQUFRLEVBQUVFLGFBQWEsV0FBVyxDQUFDO1lBQzdDRCxTQUFTQztZQUNUOEIsT0FBT3ZDLEtBQUtLLE1BQU07WUFDbEJLO1FBQ0Y7SUFDRixFQUFFLE9BQU9NLE9BQU87UUFDZHNCLFFBQVF0QixLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPdEIscURBQVlBLENBQUNZLElBQUksQ0FDdEI7WUFBRVUsT0FBTztZQUFpQ3dCLFNBQVN4QixNQUFNVCxPQUFPO1FBQUMsR0FDakU7WUFBRUgsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVxQyxJQUFJMUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUwsK0NBQU1BLENBQUNNLEdBQUcsQ0FBQ0MsUUFBUSxDQUFDO1lBQ3JDQyxPQUFPO2dCQUFFQyxRQUFRO1lBQVM7WUFDMUJzQyxRQUFRO2dCQUNOakIsSUFBSTtnQkFDSmIsUUFBUTtnQkFDUkcsTUFBTTtnQkFDTkcsVUFBVTtnQkFDVkUsYUFBYTtnQkFDYkMsb0JBQW9CO2dCQUNwQk0sZ0JBQWdCO1lBQ2xCO1lBQ0FnQixTQUFTO2dCQUFFaEIsZ0JBQWdCO1lBQU87UUFDcEM7UUFFQSxPQUFPakMscURBQVlBLENBQUNZLElBQUksQ0FBQztZQUN2QnNDLE9BQU81QyxLQUFLSyxNQUFNO1lBQ2xCTDtRQUNGO0lBQ0YsRUFBRSxPQUFPZ0IsT0FBTztRQUNkc0IsUUFBUXRCLEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU90QixxREFBWUEsQ0FBQ1ksSUFBSSxDQUN0QjtZQUFFVSxPQUFPO1FBQStCLEdBQ3hDO1lBQUVaLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaXBvLWFwcGxpY2F0aW9uLy4vYXBwL2FwaS9zdG9jay1wcmljZS91cGRhdGUvcm91dGUudHM/ZWMzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBmZXRjaE11bHRpcGxlU3RvY2tQcmljZXMsIGZldGNoU3RvY2tQcmljZSwgY2FsY3VsYXRlSVBPR2FpbiB9IGZyb20gJ0AvbGliL3N0b2NrUHJpY2UnXG5cbi8qKlxuICogQVBJIGVuZHBvaW50IHRvIHVwZGF0ZSBzdG9jayBwcmljZXMgZm9yIGFsbCBsaXN0ZWQgSVBPc1xuICogQ2FuIGJlIGNhbGxlZCBtYW51YWxseSBvciB2aWEgY3JvbiBqb2JcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgYWxsIGxpc3RlZCBJUE9zIHdpdGggc3ltYm9scyBhbmQgZXhjaGFuZ2UgaW5mb1xuICAgIGNvbnN0IGlwb3MgPSBhd2FpdCBwcmlzbWEuaVBPLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHN0YXR1czogJ2xpc3RlZCdcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKGlwb3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnTm8gbGlzdGVkIElQT3MgZm91bmQnLCB1cGRhdGVkOiAwIH0pXG4gICAgfVxuXG4gICAgbGV0IHVwZGF0ZWRDb3VudCA9IDBcbiAgICBjb25zdCByZXN1bHRzOiBhbnlbXSA9IFtdXG5cbiAgICAvLyBGZXRjaCBwcmljZXMgZm9yIGVhY2ggSVBPIGluZGl2aWR1YWxseSAodG8gdXNlIGNvcnJlY3QgZXhjaGFuZ2UpXG4gICAgZm9yIChjb25zdCBpcG8gb2YgaXBvcykge1xuICAgICAgLy8gU2tpcCBJUE9zIHdpdGhvdXQgYSBzeW1ib2xcbiAgICAgIGlmICghaXBvLnN5bWJvbCB8fCBpcG8uc3ltYm9sLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBpcG8ubmFtZSxcbiAgICAgICAgICBzdGF0dXM6ICdza2lwcGVkJyxcbiAgICAgICAgICBlcnJvcjogJ05vIHN5bWJvbCdcbiAgICAgICAgfSlcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcXVvdGUgPSBhd2FpdCBmZXRjaFN0b2NrUHJpY2UoaXBvLnN5bWJvbCwgaXBvLmV4Y2hhbmdlIHx8ICdOU0UnKVxuXG4gICAgICAgIGlmICghcXVvdGUpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgc3ltYm9sOiBpcG8uc3ltYm9sLFxuICAgICAgICAgICAgc3RhdHVzOiAnbm90X2ZvdW5kJyxcbiAgICAgICAgICAgIGVycm9yOiAnTm8gZGF0YSBmcm9tIEFQSSdcbiAgICAgICAgICB9KVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbGRQcmljZSA9IGlwby5sYXRlc3RQcmljZVxuICAgICAgICBjb25zdCBwcmljZUNoYW5nZVBlcmNlbnQgPSBpcG8ub2ZmZXJQcmljZU1heFxuICAgICAgICAgID8gY2FsY3VsYXRlSVBPR2FpbihxdW90ZS5wcmljZSwgaXBvLm9mZmVyUHJpY2VNYXgpXG4gICAgICAgICAgOiBudWxsXG5cbiAgICAgICAgYXdhaXQgcHJpc21hLmlQTy51cGRhdGUoe1xuICAgICAgICAgIHdoZXJlOiB7IGlkOiBpcG8uaWQgfSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBsYXRlc3RQcmljZTogcXVvdGUucHJpY2UsXG4gICAgICAgICAgICBwcmljZUNoYW5nZVBlcmNlbnQsXG4gICAgICAgICAgICBwcmljZVVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBMb2cgdGhlIHByaWNlIHVwZGF0ZVxuICAgICAgICBhd2FpdCBwcmlzbWEucHJpY2VVcGRhdGVMb2cuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpcG9JZDogaXBvLmlkLFxuICAgICAgICAgICAgc3ltYm9sOiBpcG8uc3ltYm9sLFxuICAgICAgICAgICAgb2xkUHJpY2UsXG4gICAgICAgICAgICBuZXdQcmljZTogcXVvdGUucHJpY2UsXG4gICAgICAgICAgICBjaGFuZ2VQZXJjZW50OiBwcmljZUNoYW5nZVBlcmNlbnQsXG4gICAgICAgICAgICBzb3VyY2U6ICdBUEknXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHVwZGF0ZWRDb3VudCsrXG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgc3ltYm9sOiBpcG8uc3ltYm9sLFxuICAgICAgICAgIG5hbWU6IGlwby5uYW1lLFxuICAgICAgICAgIG9sZFByaWNlLFxuICAgICAgICAgIG5ld1ByaWNlOiBxdW90ZS5wcmljZSxcbiAgICAgICAgICBjaGFuZ2VQZXJjZW50OiBwcmljZUNoYW5nZVBlcmNlbnRcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBTbWFsbCBkZWxheSBiZXR3ZWVuIHJlcXVlc3RzIHRvIGF2b2lkIHJhdGUgbGltaXRpbmdcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciB1cGRhdGluZyAke2lwby5zeW1ib2x9OmAsIGVycm9yLm1lc3NhZ2UpXG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgc3ltYm9sOiBpcG8uc3ltYm9sLFxuICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBtZXNzYWdlOiBgVXBkYXRlZCAke3VwZGF0ZWRDb3VudH0gSVBPIHByaWNlc2AsXG4gICAgICB1cGRhdGVkOiB1cGRhdGVkQ291bnQsXG4gICAgICB0b3RhbDogaXBvcy5sZW5ndGgsXG4gICAgICByZXN1bHRzXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzdG9jayBwcmljZXM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgc3RvY2sgcHJpY2VzJywgZGV0YWlsczogZXJyb3IubWVzc2FnZSB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogR0VUIC0gQ2hlY2sgd2hlbiBwcmljZXMgd2VyZSBsYXN0IHVwZGF0ZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGlwb3MgPSBhd2FpdCBwcmlzbWEuaVBPLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7IHN0YXR1czogJ2xpc3RlZCcgfSxcbiAgICAgIHNlbGVjdDoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgc3ltYm9sOiB0cnVlLFxuICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICBleGNoYW5nZTogdHJ1ZSxcbiAgICAgICAgbGF0ZXN0UHJpY2U6IHRydWUsXG4gICAgICAgIHByaWNlQ2hhbmdlUGVyY2VudDogdHJ1ZSxcbiAgICAgICAgcHJpY2VVcGRhdGVkQXQ6IHRydWVcbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiB7IHByaWNlVXBkYXRlZEF0OiAnZGVzYycgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgY291bnQ6IGlwb3MubGVuZ3RoLFxuICAgICAgaXBvc1xuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJpY2Ugc3RhdHVzOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggcHJpY2Ugc3RhdHVzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiZmV0Y2hTdG9ja1ByaWNlIiwiY2FsY3VsYXRlSVBPR2FpbiIsIlBPU1QiLCJyZXF1ZXN0IiwiaXBvcyIsImlQTyIsImZpbmRNYW55Iiwid2hlcmUiLCJzdGF0dXMiLCJsZW5ndGgiLCJqc29uIiwibWVzc2FnZSIsInVwZGF0ZWQiLCJ1cGRhdGVkQ291bnQiLCJyZXN1bHRzIiwiaXBvIiwic3ltYm9sIiwidHJpbSIsInB1c2giLCJuYW1lIiwiZXJyb3IiLCJxdW90ZSIsImV4Y2hhbmdlIiwib2xkUHJpY2UiLCJsYXRlc3RQcmljZSIsInByaWNlQ2hhbmdlUGVyY2VudCIsIm9mZmVyUHJpY2VNYXgiLCJwcmljZSIsInVwZGF0ZSIsImlkIiwiZGF0YSIsInByaWNlVXBkYXRlZEF0IiwiRGF0ZSIsInByaWNlVXBkYXRlTG9nIiwiY3JlYXRlIiwiaXBvSWQiLCJuZXdQcmljZSIsImNoYW5nZVBlcmNlbnQiLCJzb3VyY2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwidG90YWwiLCJkZXRhaWxzIiwiR0VUIiwic2VsZWN0Iiwib3JkZXJCeSIsImNvdW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/stock-price/update/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2lwby1hcHBsaWNhdGlvbi8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcbiAgcHJpc21hOiBQcmlzbWFDbGllbnQgfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiZ2xvYmFsRm9yUHJpc21hIiwiZ2xvYmFsVGhpcyIsInByaXNtYSIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ }),

/***/ "(rsc)/./lib/stockPrice.ts":
/*!***************************!*\
  !*** ./lib/stockPrice.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateIPOGain: () => (/* binding */ calculateIPOGain),\n/* harmony export */   fetchMultipleStockPrices: () => (/* binding */ fetchMultipleStockPrices),\n/* harmony export */   fetchStockPrice: () => (/* binding */ fetchStockPrice),\n/* harmony export */   testFetchPrice: () => (/* binding */ testFetchPrice)\n/* harmony export */ });\n/**\n * Stock Price Service\n * Fetches latest stock prices from multiple free APIs\n * Supports dynamic symbol resolution for Indian stocks\n */ /**\n * Resolve Yahoo Finance symbol for Indian stocks\n * Converts plain symbols to Yahoo Finance format\n */ function resolveYahooSymbol(symbol, exchange) {\n    // Remove any existing suffix\n    const cleanSymbol = symbol.replace(/\\.(NS|BO)$/, \"\").toUpperCase();\n    // Add appropriate suffix based on exchange or default to NSE\n    if (exchange === \"BSE\") {\n        return `${cleanSymbol}.BO`;\n    }\n    // Default to NSE for Indian stocks\n    return `${cleanSymbol}.NS`;\n}\n/**\n * Option 1: Yahoo Finance API (Free, No API Key Required)\n * Uses the chart endpoint which is publicly accessible\n */ async function fetchFromYahooFinance(symbol, exchange) {\n    try {\n        const yahooSymbol = resolveYahooSymbol(symbol, exchange);\n        const url = `https://query1.finance.yahoo.com/v8/finance/chart/${yahooSymbol}?interval=1d&range=5d&includePrePost=false`;\n        const response = await fetch(url, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\n            }\n        });\n        if (!response.ok) {\n            console.error(`Yahoo Finance HTTP error for ${symbol}: ${response.status}`);\n            return null;\n        }\n        const data = await response.json();\n        // Check if we have valid data\n        const result = data.chart?.result?.[0];\n        if (!result) {\n            console.error(`Yahoo Finance: No data for ${symbol}`);\n            return null;\n        }\n        const meta = result.meta;\n        const quotes = result.indicators?.quote?.[0];\n        if (!meta) {\n            console.error(`Yahoo Finance: No meta data for ${symbol}`);\n            return null;\n        }\n        // Get current/regular market price\n        const currentPrice = meta.regularMarketPrice || quotes?.close?.[quotes.close.length - 1];\n        if (!currentPrice) {\n            console.error(`Yahoo Finance: No price data for ${symbol}`);\n            return null;\n        }\n        // Get previous close for change calculation\n        const previousClose = meta.previousClose || quotes?.open?.[0] || currentPrice;\n        return {\n            symbol,\n            price: currentPrice,\n            change: currentPrice - previousClose,\n            changePercent: (currentPrice - previousClose) / previousClose * 100,\n            currency: meta.currency || \"INR\",\n            timestamp: new Date()\n        };\n    } catch (error) {\n        console.error(`Yahoo Finance error for ${symbol}:`, error.message);\n        return null;\n    }\n}\n/**\n * Option 2: NSE India API (Official NSE endpoint)\n * Works well for NSE listed stocks\n */ async function fetchFromNSE(symbol) {\n    try {\n        // NSE API uses the symbol directly\n        const url = `https://www.nseindia.com/api/quote-equity?symbol=${encodeURIComponent(symbol)}`;\n        const response = await fetch(url, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n                \"Accept\": \"application/json\",\n                \"Referer\": \"https://www.nseindia.com/\"\n            }\n        });\n        if (!response.ok) {\n            return null;\n        }\n        const data = await response.json();\n        const priceInfo = data?.priceInfo;\n        const metadata = data?.info;\n        if (!priceInfo || !priceInfo.lastPrice) {\n            return null;\n        }\n        return {\n            symbol,\n            price: priceInfo.lastPrice,\n            change: priceInfo.priceChange || 0,\n            changePercent: priceInfo.priceChangePercentage || 0,\n            currency: \"INR\",\n            timestamp: new Date()\n        };\n    } catch (error) {\n        console.error(`NSE API error for ${symbol}:`, error.message);\n        return null;\n    }\n}\n/**\n * Option 3: Groww API Alternative (Unofficial but reliable for Indian stocks)\n */ async function fetchFromGroww(symbol) {\n    try {\n        const url = `https://groww.in/v1/api/stocks_data/v1/exchange/NSE/${symbol}/latest`;\n        const response = await fetch(url, {\n            headers: {\n                \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\"\n            }\n        });\n        if (!response.ok) return null;\n        const data = await response.json();\n        const priceInfo = data?.data?.latestPrice;\n        if (!priceInfo) return null;\n        return {\n            symbol,\n            price: priceInfo,\n            change: 0,\n            changePercent: 0,\n            currency: \"INR\",\n            timestamp: new Date()\n        };\n    } catch (error) {\n        console.error(`Groww API error for ${symbol}:`, error.message);\n        return null;\n    }\n}\n/**\n * Main function to fetch stock price\n * Tries multiple sources with fallback\n */ async function fetchStockPrice(symbol, exchange) {\n    // For Indian stocks, try Yahoo Finance first (most reliable)\n    const yahooResult = await fetchFromYahooFinance(symbol, exchange);\n    if (yahooResult) {\n        console.log(`✓ Fetched ${symbol} from Yahoo Finance: ₹${yahooResult.price}`);\n        return yahooResult;\n    }\n    // Try NSE API for NSE stocks\n    if (exchange === \"NSE\" || !exchange) {\n        const nseResult = await fetchFromNSE(symbol);\n        if (nseResult) {\n            console.log(`✓ Fetched ${symbol} from NSE: ₹${nseResult.price}`);\n            return nseResult;\n        }\n    }\n    // Try Groww as final fallback\n    const growwResult = await fetchFromGroww(symbol);\n    if (growwResult) {\n        console.log(`✓ Fetched ${symbol} from Groww: ₹${growwResult.price}`);\n        return growwResult;\n    }\n    console.error(`✗ Failed to fetch price for ${symbol} from all sources`);\n    return null;\n}\n/**\n * Batch fetch stock prices for multiple symbols\n * Processes in batches to avoid rate limiting\n */ async function fetchMultipleStockPrices(symbols, exchange) {\n    const results = new Map();\n    console.log(`Fetching prices for ${symbols.length} symbols...`);\n    // Fetch in parallel with a delay to avoid rate limiting\n    const batchSize = 3 // Reduced for better reliability\n    ;\n    for(let i = 0; i < symbols.length; i += batchSize){\n        const batch = symbols.slice(i, i + batchSize);\n        const promises = batch.map(async (symbol)=>{\n            const quote = await fetchStockPrice(symbol, exchange);\n            if (quote) {\n                results.set(symbol, quote);\n            }\n            // Delay between requests to avoid rate limiting\n            await new Promise((resolve)=>setTimeout(resolve, 500));\n        });\n        await Promise.all(promises);\n        // Longer delay between batches\n        if (i + batchSize < symbols.length) {\n            await new Promise((resolve)=>setTimeout(resolve, 1000));\n        }\n    }\n    console.log(`Successfully fetched ${results.size}/${symbols.length} prices`);\n    return results;\n}\n/**\n * Calculate IPO gain/loss percentage\n */ function calculateIPOGain(latestPrice, offerPriceMax) {\n    if (!offerPriceMax || offerPriceMax === 0) return 0;\n    return (latestPrice - offerPriceMax) / offerPriceMax * 100;\n}\n/**\n * Test function to verify API is working\n * Call this to test a specific symbol\n */ async function testFetchPrice(symbol) {\n    console.log(`Testing price fetch for ${symbol}...`);\n    const result = await fetchStockPrice(symbol, \"NSE\");\n    if (result) {\n        console.log(`✅ Success: ${symbol} = ₹${result.price}`);\n    } else {\n        console.log(`❌ Failed: ${symbol}`);\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3RvY2tQcmljZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7Q0FJQyxHQVdEOzs7Q0FHQyxHQUNELFNBQVNBLG1CQUFtQkMsTUFBYyxFQUFFQyxRQUFpQjtJQUMzRCw2QkFBNkI7SUFDN0IsTUFBTUMsY0FBY0YsT0FBT0csT0FBTyxDQUFDLGNBQWMsSUFBSUMsV0FBVztJQUVoRSw2REFBNkQ7SUFDN0QsSUFBSUgsYUFBYSxPQUFPO1FBQ3RCLE9BQU8sQ0FBQyxFQUFFQyxZQUFZLEdBQUcsQ0FBQztJQUM1QjtJQUNBLG1DQUFtQztJQUNuQyxPQUFPLENBQUMsRUFBRUEsWUFBWSxHQUFHLENBQUM7QUFDNUI7QUFFQTs7O0NBR0MsR0FDRCxlQUFlRyxzQkFBc0JMLE1BQWMsRUFBRUMsUUFBaUI7SUFDcEUsSUFBSTtRQUNGLE1BQU1LLGNBQWNQLG1CQUFtQkMsUUFBUUM7UUFDL0MsTUFBTU0sTUFBTSxDQUFDLGtEQUFrRCxFQUFFRCxZQUFZLDBDQUEwQyxDQUFDO1FBRXhILE1BQU1FLFdBQVcsTUFBTUMsTUFBTUYsS0FBSztZQUNoQ0csU0FBUztnQkFDUCxjQUFjO1lBQ2hCO1FBQ0Y7UUFFQSxJQUFJLENBQUNGLFNBQVNHLEVBQUUsRUFBRTtZQUNoQkMsUUFBUUMsS0FBSyxDQUFDLENBQUMsNkJBQTZCLEVBQUViLE9BQU8sRUFBRSxFQUFFUSxTQUFTTSxNQUFNLENBQUMsQ0FBQztZQUMxRSxPQUFPO1FBQ1Q7UUFFQSxNQUFNQyxPQUFPLE1BQU1QLFNBQVNRLElBQUk7UUFFaEMsOEJBQThCO1FBQzlCLE1BQU1DLFNBQVNGLEtBQUtHLEtBQUssRUFBRUQsUUFBUSxDQUFDLEVBQUU7UUFDdEMsSUFBSSxDQUFDQSxRQUFRO1lBQ1hMLFFBQVFDLEtBQUssQ0FBQyxDQUFDLDJCQUEyQixFQUFFYixPQUFPLENBQUM7WUFDcEQsT0FBTztRQUNUO1FBRUEsTUFBTW1CLE9BQU9GLE9BQU9FLElBQUk7UUFDeEIsTUFBTUMsU0FBU0gsT0FBT0ksVUFBVSxFQUFFQyxPQUFPLENBQUMsRUFBRTtRQUU1QyxJQUFJLENBQUNILE1BQU07WUFDVFAsUUFBUUMsS0FBSyxDQUFDLENBQUMsZ0NBQWdDLEVBQUViLE9BQU8sQ0FBQztZQUN6RCxPQUFPO1FBQ1Q7UUFFQSxtQ0FBbUM7UUFDbkMsTUFBTXVCLGVBQWVKLEtBQUtLLGtCQUFrQixJQUFJSixRQUFRSyxPQUFPLENBQUNMLE9BQU9LLEtBQUssQ0FBQ0MsTUFBTSxHQUFHLEVBQUU7UUFFeEYsSUFBSSxDQUFDSCxjQUFjO1lBQ2pCWCxRQUFRQyxLQUFLLENBQUMsQ0FBQyxpQ0FBaUMsRUFBRWIsT0FBTyxDQUFDO1lBQzFELE9BQU87UUFDVDtRQUVBLDRDQUE0QztRQUM1QyxNQUFNMkIsZ0JBQWdCUixLQUFLUSxhQUFhLElBQUlQLFFBQVFRLE1BQU0sQ0FBQyxFQUFFLElBQUlMO1FBRWpFLE9BQU87WUFDTHZCO1lBQ0E2QixPQUFPTjtZQUNQTyxRQUFRUCxlQUFlSTtZQUN2QkksZUFBZSxDQUFFUixlQUFlSSxhQUFZLElBQUtBLGdCQUFpQjtZQUNsRUssVUFBVWIsS0FBS2EsUUFBUSxJQUFJO1lBQzNCQyxXQUFXLElBQUlDO1FBQ2pCO0lBQ0YsRUFBRSxPQUFPckIsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsQ0FBQyx3QkFBd0IsRUFBRWIsT0FBTyxDQUFDLENBQUMsRUFBRWEsTUFBTXNCLE9BQU87UUFDakUsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxlQUFlQyxhQUFhcEMsTUFBYztJQUN4QyxJQUFJO1FBQ0YsbUNBQW1DO1FBQ25DLE1BQU1PLE1BQU0sQ0FBQyxpREFBaUQsRUFBRThCLG1CQUFtQnJDLFFBQVEsQ0FBQztRQUU1RixNQUFNUSxXQUFXLE1BQU1DLE1BQU1GLEtBQUs7WUFDaENHLFNBQVM7Z0JBQ1AsY0FBYztnQkFDZCxVQUFVO2dCQUNWLFdBQVc7WUFDYjtRQUNGO1FBRUEsSUFBSSxDQUFDRixTQUFTRyxFQUFFLEVBQUU7WUFDaEIsT0FBTztRQUNUO1FBRUEsTUFBTUksT0FBTyxNQUFNUCxTQUFTUSxJQUFJO1FBQ2hDLE1BQU1zQixZQUFZdkIsTUFBTXVCO1FBQ3hCLE1BQU1DLFdBQVd4QixNQUFNeUI7UUFFdkIsSUFBSSxDQUFDRixhQUFhLENBQUNBLFVBQVVHLFNBQVMsRUFBRTtZQUN0QyxPQUFPO1FBQ1Q7UUFFQSxPQUFPO1lBQ0x6QztZQUNBNkIsT0FBT1MsVUFBVUcsU0FBUztZQUMxQlgsUUFBUVEsVUFBVUksV0FBVyxJQUFJO1lBQ2pDWCxlQUFlTyxVQUFVSyxxQkFBcUIsSUFBSTtZQUNsRFgsVUFBVTtZQUNWQyxXQUFXLElBQUlDO1FBQ2pCO0lBQ0YsRUFBRSxPQUFPckIsT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsQ0FBQyxrQkFBa0IsRUFBRWIsT0FBTyxDQUFDLENBQUMsRUFBRWEsTUFBTXNCLE9BQU87UUFDM0QsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNELGVBQWVTLGVBQWU1QyxNQUFjO0lBQzFDLElBQUk7UUFDRixNQUFNTyxNQUFNLENBQUMsb0RBQW9ELEVBQUVQLE9BQU8sT0FBTyxDQUFDO1FBRWxGLE1BQU1RLFdBQVcsTUFBTUMsTUFBTUYsS0FBSztZQUNoQ0csU0FBUztnQkFDUCxjQUFjO1lBQ2hCO1FBQ0Y7UUFFQSxJQUFJLENBQUNGLFNBQVNHLEVBQUUsRUFBRSxPQUFPO1FBRXpCLE1BQU1JLE9BQU8sTUFBTVAsU0FBU1EsSUFBSTtRQUNoQyxNQUFNc0IsWUFBWXZCLE1BQU1BLE1BQU04QjtRQUU5QixJQUFJLENBQUNQLFdBQVcsT0FBTztRQUV2QixPQUFPO1lBQ0x0QztZQUNBNkIsT0FBT1M7WUFDUFIsUUFBUTtZQUNSQyxlQUFlO1lBQ2ZDLFVBQVU7WUFDVkMsV0FBVyxJQUFJQztRQUNqQjtJQUNGLEVBQUUsT0FBT3JCLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLENBQUMsb0JBQW9CLEVBQUViLE9BQU8sQ0FBQyxDQUFDLEVBQUVhLE1BQU1zQixPQUFPO1FBQzdELE9BQU87SUFDVDtBQUNGO0FBRUE7OztDQUdDLEdBQ00sZUFBZVcsZ0JBQWdCOUMsTUFBYyxFQUFFQyxRQUFpQjtJQUNyRSw2REFBNkQ7SUFDN0QsTUFBTThDLGNBQWMsTUFBTTFDLHNCQUFzQkwsUUFBUUM7SUFDeEQsSUFBSThDLGFBQWE7UUFDZm5DLFFBQVFvQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUVoRCxPQUFPLHNCQUFzQixFQUFFK0MsWUFBWWxCLEtBQUssQ0FBQyxDQUFDO1FBQzNFLE9BQU9rQjtJQUNUO0lBRUEsNkJBQTZCO0lBQzdCLElBQUk5QyxhQUFhLFNBQVMsQ0FBQ0EsVUFBVTtRQUNuQyxNQUFNZ0QsWUFBWSxNQUFNYixhQUFhcEM7UUFDckMsSUFBSWlELFdBQVc7WUFDYnJDLFFBQVFvQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUVoRCxPQUFPLFlBQVksRUFBRWlELFVBQVVwQixLQUFLLENBQUMsQ0FBQztZQUMvRCxPQUFPb0I7UUFDVDtJQUNGO0lBRUEsOEJBQThCO0lBQzlCLE1BQU1DLGNBQWMsTUFBTU4sZUFBZTVDO0lBQ3pDLElBQUlrRCxhQUFhO1FBQ2Z0QyxRQUFRb0MsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFaEQsT0FBTyxjQUFjLEVBQUVrRCxZQUFZckIsS0FBSyxDQUFDLENBQUM7UUFDbkUsT0FBT3FCO0lBQ1Q7SUFFQXRDLFFBQVFDLEtBQUssQ0FBQyxDQUFDLDRCQUE0QixFQUFFYixPQUFPLGlCQUFpQixDQUFDO0lBQ3RFLE9BQU87QUFDVDtBQUVBOzs7Q0FHQyxHQUNNLGVBQWVtRCx5QkFDcEJDLE9BQWlCLEVBQ2pCbkQsUUFBaUI7SUFFakIsTUFBTW9ELFVBQVUsSUFBSUM7SUFFcEIxQyxRQUFRb0MsR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUVJLFFBQVExQixNQUFNLENBQUMsV0FBVyxDQUFDO0lBRTlELHdEQUF3RDtJQUN4RCxNQUFNNkIsWUFBWSxFQUFFLGlDQUFpQzs7SUFDckQsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlKLFFBQVExQixNQUFNLEVBQUU4QixLQUFLRCxVQUFXO1FBQ2xELE1BQU1FLFFBQVFMLFFBQVFNLEtBQUssQ0FBQ0YsR0FBR0EsSUFBSUQ7UUFDbkMsTUFBTUksV0FBV0YsTUFBTUcsR0FBRyxDQUFDLE9BQU81RDtZQUNoQyxNQUFNc0IsUUFBUSxNQUFNd0IsZ0JBQWdCOUMsUUFBUUM7WUFDNUMsSUFBSXFCLE9BQU87Z0JBQ1QrQixRQUFRUSxHQUFHLENBQUM3RCxRQUFRc0I7WUFDdEI7WUFDQSxnREFBZ0Q7WUFDaEQsTUFBTSxJQUFJd0MsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztRQUNuRDtRQUNBLE1BQU1ELFFBQVFHLEdBQUcsQ0FBQ047UUFFbEIsK0JBQStCO1FBQy9CLElBQUlILElBQUlELFlBQVlILFFBQVExQixNQUFNLEVBQUU7WUFDbEMsTUFBTSxJQUFJb0MsUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUztRQUNuRDtJQUNGO0lBRUFuRCxRQUFRb0MsR0FBRyxDQUFDLENBQUMscUJBQXFCLEVBQUVLLFFBQVFhLElBQUksQ0FBQyxDQUFDLEVBQUVkLFFBQVExQixNQUFNLENBQUMsT0FBTyxDQUFDO0lBQzNFLE9BQU8yQjtBQUNUO0FBRUE7O0NBRUMsR0FDTSxTQUFTYyxpQkFBaUJ0QixXQUFtQixFQUFFdUIsYUFBcUI7SUFDekUsSUFBSSxDQUFDQSxpQkFBaUJBLGtCQUFrQixHQUFHLE9BQU87SUFDbEQsT0FBTyxDQUFFdkIsY0FBY3VCLGFBQVksSUFBS0EsZ0JBQWlCO0FBQzNEO0FBRUE7OztDQUdDLEdBQ00sZUFBZUMsZUFBZXJFLE1BQWM7SUFDakRZLFFBQVFvQyxHQUFHLENBQUMsQ0FBQyx3QkFBd0IsRUFBRWhELE9BQU8sR0FBRyxDQUFDO0lBQ2xELE1BQU1pQixTQUFTLE1BQU02QixnQkFBZ0I5QyxRQUFRO0lBQzdDLElBQUlpQixRQUFRO1FBQ1ZMLFFBQVFvQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUVoRCxPQUFPLElBQUksRUFBRWlCLE9BQU9ZLEtBQUssQ0FBQyxDQUFDO0lBQ3ZELE9BQU87UUFDTGpCLFFBQVFvQyxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQUVoRCxPQUFPLENBQUM7SUFDbkM7SUFDQSxPQUFPaUI7QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL2lwby1hcHBsaWNhdGlvbi8uL2xpYi9zdG9ja1ByaWNlLnRzP2E4NmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdG9jayBQcmljZSBTZXJ2aWNlXG4gKiBGZXRjaGVzIGxhdGVzdCBzdG9jayBwcmljZXMgZnJvbSBtdWx0aXBsZSBmcmVlIEFQSXNcbiAqIFN1cHBvcnRzIGR5bmFtaWMgc3ltYm9sIHJlc29sdXRpb24gZm9yIEluZGlhbiBzdG9ja3NcbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0b2NrUXVvdGUge1xuICBzeW1ib2w6IHN0cmluZ1xuICBwcmljZTogbnVtYmVyXG4gIGNoYW5nZTogbnVtYmVyXG4gIGNoYW5nZVBlcmNlbnQ6IG51bWJlclxuICBjdXJyZW5jeTogc3RyaW5nXG4gIHRpbWVzdGFtcDogRGF0ZVxufVxuXG4vKipcbiAqIFJlc29sdmUgWWFob28gRmluYW5jZSBzeW1ib2wgZm9yIEluZGlhbiBzdG9ja3NcbiAqIENvbnZlcnRzIHBsYWluIHN5bWJvbHMgdG8gWWFob28gRmluYW5jZSBmb3JtYXRcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVlhaG9vU3ltYm9sKHN5bWJvbDogc3RyaW5nLCBleGNoYW5nZT86IHN0cmluZyk6IHN0cmluZyB7XG4gIC8vIFJlbW92ZSBhbnkgZXhpc3Rpbmcgc3VmZml4XG4gIGNvbnN0IGNsZWFuU3ltYm9sID0gc3ltYm9sLnJlcGxhY2UoL1xcLihOU3xCTykkLywgJycpLnRvVXBwZXJDYXNlKClcblxuICAvLyBBZGQgYXBwcm9wcmlhdGUgc3VmZml4IGJhc2VkIG9uIGV4Y2hhbmdlIG9yIGRlZmF1bHQgdG8gTlNFXG4gIGlmIChleGNoYW5nZSA9PT0gJ0JTRScpIHtcbiAgICByZXR1cm4gYCR7Y2xlYW5TeW1ib2x9LkJPYFxuICB9XG4gIC8vIERlZmF1bHQgdG8gTlNFIGZvciBJbmRpYW4gc3RvY2tzXG4gIHJldHVybiBgJHtjbGVhblN5bWJvbH0uTlNgXG59XG5cbi8qKlxuICogT3B0aW9uIDE6IFlhaG9vIEZpbmFuY2UgQVBJIChGcmVlLCBObyBBUEkgS2V5IFJlcXVpcmVkKVxuICogVXNlcyB0aGUgY2hhcnQgZW5kcG9pbnQgd2hpY2ggaXMgcHVibGljbHkgYWNjZXNzaWJsZVxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaEZyb21ZYWhvb0ZpbmFuY2Uoc3ltYm9sOiBzdHJpbmcsIGV4Y2hhbmdlPzogc3RyaW5nKTogUHJvbWlzZTxTdG9ja1F1b3RlIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGNvbnN0IHlhaG9vU3ltYm9sID0gcmVzb2x2ZVlhaG9vU3ltYm9sKHN5bWJvbCwgZXhjaGFuZ2UpXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vcXVlcnkxLmZpbmFuY2UueWFob28uY29tL3Y4L2ZpbmFuY2UvY2hhcnQvJHt5YWhvb1N5bWJvbH0/aW50ZXJ2YWw9MWQmcmFuZ2U9NWQmaW5jbHVkZVByZVBvc3Q9ZmFsc2VgXG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYnXG4gICAgICB9XG4gICAgfSlcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFlhaG9vIEZpbmFuY2UgSFRUUCBlcnJvciBmb3IgJHtzeW1ib2x9OiAke3Jlc3BvbnNlLnN0YXR1c31gKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHZhbGlkIGRhdGFcbiAgICBjb25zdCByZXN1bHQgPSBkYXRhLmNoYXJ0Py5yZXN1bHQ/LlswXVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBZYWhvbyBGaW5hbmNlOiBObyBkYXRhIGZvciAke3N5bWJvbH1gKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBtZXRhID0gcmVzdWx0Lm1ldGFcbiAgICBjb25zdCBxdW90ZXMgPSByZXN1bHQuaW5kaWNhdG9ycz8ucXVvdGU/LlswXVxuXG4gICAgaWYgKCFtZXRhKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBZYWhvbyBGaW5hbmNlOiBObyBtZXRhIGRhdGEgZm9yICR7c3ltYm9sfWApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIC8vIEdldCBjdXJyZW50L3JlZ3VsYXIgbWFya2V0IHByaWNlXG4gICAgY29uc3QgY3VycmVudFByaWNlID0gbWV0YS5yZWd1bGFyTWFya2V0UHJpY2UgfHwgcXVvdGVzPy5jbG9zZT8uW3F1b3Rlcy5jbG9zZS5sZW5ndGggLSAxXVxuXG4gICAgaWYgKCFjdXJyZW50UHJpY2UpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFlhaG9vIEZpbmFuY2U6IE5vIHByaWNlIGRhdGEgZm9yICR7c3ltYm9sfWApXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIC8vIEdldCBwcmV2aW91cyBjbG9zZSBmb3IgY2hhbmdlIGNhbGN1bGF0aW9uXG4gICAgY29uc3QgcHJldmlvdXNDbG9zZSA9IG1ldGEucHJldmlvdXNDbG9zZSB8fCBxdW90ZXM/Lm9wZW4/LlswXSB8fCBjdXJyZW50UHJpY2VcblxuICAgIHJldHVybiB7XG4gICAgICBzeW1ib2wsXG4gICAgICBwcmljZTogY3VycmVudFByaWNlLFxuICAgICAgY2hhbmdlOiBjdXJyZW50UHJpY2UgLSBwcmV2aW91c0Nsb3NlLFxuICAgICAgY2hhbmdlUGVyY2VudDogKChjdXJyZW50UHJpY2UgLSBwcmV2aW91c0Nsb3NlKSAvIHByZXZpb3VzQ2xvc2UpICogMTAwLFxuICAgICAgY3VycmVuY3k6IG1ldGEuY3VycmVuY3kgfHwgJ0lOUicsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgWWFob28gRmluYW5jZSBlcnJvciBmb3IgJHtzeW1ib2x9OmAsIGVycm9yLm1lc3NhZ2UpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG4vKipcbiAqIE9wdGlvbiAyOiBOU0UgSW5kaWEgQVBJIChPZmZpY2lhbCBOU0UgZW5kcG9pbnQpXG4gKiBXb3JrcyB3ZWxsIGZvciBOU0UgbGlzdGVkIHN0b2Nrc1xuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaEZyb21OU0Uoc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPFN0b2NrUXVvdGUgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gTlNFIEFQSSB1c2VzIHRoZSBzeW1ib2wgZGlyZWN0bHlcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly93d3cubnNlaW5kaWEuY29tL2FwaS9xdW90ZS1lcXVpdHk/c3ltYm9sPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN5bWJvbCl9YFxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly93d3cubnNlaW5kaWEuY29tLydcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgY29uc3QgcHJpY2VJbmZvID0gZGF0YT8ucHJpY2VJbmZvXG4gICAgY29uc3QgbWV0YWRhdGEgPSBkYXRhPy5pbmZvXG5cbiAgICBpZiAoIXByaWNlSW5mbyB8fCAhcHJpY2VJbmZvLmxhc3RQcmljZSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc3ltYm9sLFxuICAgICAgcHJpY2U6IHByaWNlSW5mby5sYXN0UHJpY2UsXG4gICAgICBjaGFuZ2U6IHByaWNlSW5mby5wcmljZUNoYW5nZSB8fCAwLFxuICAgICAgY2hhbmdlUGVyY2VudDogcHJpY2VJbmZvLnByaWNlQ2hhbmdlUGVyY2VudGFnZSB8fCAwLFxuICAgICAgY3VycmVuY3k6ICdJTlInLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYE5TRSBBUEkgZXJyb3IgZm9yICR7c3ltYm9sfTpgLCBlcnJvci5tZXNzYWdlKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiBPcHRpb24gMzogR3Jvd3cgQVBJIEFsdGVybmF0aXZlIChVbm9mZmljaWFsIGJ1dCByZWxpYWJsZSBmb3IgSW5kaWFuIHN0b2NrcylcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hGcm9tR3Jvd3coc3ltYm9sOiBzdHJpbmcpOiBQcm9taXNlPFN0b2NrUXVvdGUgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vZ3Jvd3cuaW4vdjEvYXBpL3N0b2Nrc19kYXRhL3YxL2V4Y2hhbmdlL05TRS8ke3N5bWJvbH0vbGF0ZXN0YFxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2J1xuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgIGNvbnN0IHByaWNlSW5mbyA9IGRhdGE/LmRhdGE/LmxhdGVzdFByaWNlXG5cbiAgICBpZiAoIXByaWNlSW5mbykgcmV0dXJuIG51bGxcblxuICAgIHJldHVybiB7XG4gICAgICBzeW1ib2wsXG4gICAgICBwcmljZTogcHJpY2VJbmZvLFxuICAgICAgY2hhbmdlOiAwLCAvLyBHcm93dyBBUEkgZG9lc24ndCBwcm92aWRlIGNoYW5nZSBkaXJlY3RseVxuICAgICAgY2hhbmdlUGVyY2VudDogMCxcbiAgICAgIGN1cnJlbmN5OiAnSU5SJyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBHcm93dyBBUEkgZXJyb3IgZm9yICR7c3ltYm9sfTpgLCBlcnJvci5tZXNzYWdlKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiBNYWluIGZ1bmN0aW9uIHRvIGZldGNoIHN0b2NrIHByaWNlXG4gKiBUcmllcyBtdWx0aXBsZSBzb3VyY2VzIHdpdGggZmFsbGJhY2tcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU3RvY2tQcmljZShzeW1ib2w6IHN0cmluZywgZXhjaGFuZ2U/OiBzdHJpbmcpOiBQcm9taXNlPFN0b2NrUXVvdGUgfCBudWxsPiB7XG4gIC8vIEZvciBJbmRpYW4gc3RvY2tzLCB0cnkgWWFob28gRmluYW5jZSBmaXJzdCAobW9zdCByZWxpYWJsZSlcbiAgY29uc3QgeWFob29SZXN1bHQgPSBhd2FpdCBmZXRjaEZyb21ZYWhvb0ZpbmFuY2Uoc3ltYm9sLCBleGNoYW5nZSlcbiAgaWYgKHlhaG9vUmVzdWx0KSB7XG4gICAgY29uc29sZS5sb2coYOKckyBGZXRjaGVkICR7c3ltYm9sfSBmcm9tIFlhaG9vIEZpbmFuY2U6IOKCuSR7eWFob29SZXN1bHQucHJpY2V9YClcbiAgICByZXR1cm4geWFob29SZXN1bHRcbiAgfVxuXG4gIC8vIFRyeSBOU0UgQVBJIGZvciBOU0Ugc3RvY2tzXG4gIGlmIChleGNoYW5nZSA9PT0gJ05TRScgfHwgIWV4Y2hhbmdlKSB7XG4gICAgY29uc3QgbnNlUmVzdWx0ID0gYXdhaXQgZmV0Y2hGcm9tTlNFKHN5bWJvbClcbiAgICBpZiAobnNlUmVzdWx0KSB7XG4gICAgICBjb25zb2xlLmxvZyhg4pyTIEZldGNoZWQgJHtzeW1ib2x9IGZyb20gTlNFOiDigrkke25zZVJlc3VsdC5wcmljZX1gKVxuICAgICAgcmV0dXJuIG5zZVJlc3VsdFxuICAgIH1cbiAgfVxuXG4gIC8vIFRyeSBHcm93dyBhcyBmaW5hbCBmYWxsYmFja1xuICBjb25zdCBncm93d1Jlc3VsdCA9IGF3YWl0IGZldGNoRnJvbUdyb3d3KHN5bWJvbClcbiAgaWYgKGdyb3d3UmVzdWx0KSB7XG4gICAgY29uc29sZS5sb2coYOKckyBGZXRjaGVkICR7c3ltYm9sfSBmcm9tIEdyb3d3OiDigrkke2dyb3d3UmVzdWx0LnByaWNlfWApXG4gICAgcmV0dXJuIGdyb3d3UmVzdWx0XG4gIH1cblxuICBjb25zb2xlLmVycm9yKGDinJcgRmFpbGVkIHRvIGZldGNoIHByaWNlIGZvciAke3N5bWJvbH0gZnJvbSBhbGwgc291cmNlc2ApXG4gIHJldHVybiBudWxsXG59XG5cbi8qKlxuICogQmF0Y2ggZmV0Y2ggc3RvY2sgcHJpY2VzIGZvciBtdWx0aXBsZSBzeW1ib2xzXG4gKiBQcm9jZXNzZXMgaW4gYmF0Y2hlcyB0byBhdm9pZCByYXRlIGxpbWl0aW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaE11bHRpcGxlU3RvY2tQcmljZXMoXG4gIHN5bWJvbHM6IHN0cmluZ1tdLFxuICBleGNoYW5nZT86IHN0cmluZ1xuKTogUHJvbWlzZTxNYXA8c3RyaW5nLCBTdG9ja1F1b3RlPj4ge1xuICBjb25zdCByZXN1bHRzID0gbmV3IE1hcDxzdHJpbmcsIFN0b2NrUXVvdGU+KClcblxuICBjb25zb2xlLmxvZyhgRmV0Y2hpbmcgcHJpY2VzIGZvciAke3N5bWJvbHMubGVuZ3RofSBzeW1ib2xzLi4uYClcblxuICAvLyBGZXRjaCBpbiBwYXJhbGxlbCB3aXRoIGEgZGVsYXkgdG8gYXZvaWQgcmF0ZSBsaW1pdGluZ1xuICBjb25zdCBiYXRjaFNpemUgPSAzIC8vIFJlZHVjZWQgZm9yIGJldHRlciByZWxpYWJpbGl0eVxuICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgIGNvbnN0IGJhdGNoID0gc3ltYm9scy5zbGljZShpLCBpICsgYmF0Y2hTaXplKVxuICAgIGNvbnN0IHByb21pc2VzID0gYmF0Y2gubWFwKGFzeW5jIChzeW1ib2wpID0+IHtcbiAgICAgIGNvbnN0IHF1b3RlID0gYXdhaXQgZmV0Y2hTdG9ja1ByaWNlKHN5bWJvbCwgZXhjaGFuZ2UpXG4gICAgICBpZiAocXVvdGUpIHtcbiAgICAgICAgcmVzdWx0cy5zZXQoc3ltYm9sLCBxdW90ZSlcbiAgICAgIH1cbiAgICAgIC8vIERlbGF5IGJldHdlZW4gcmVxdWVzdHMgdG8gYXZvaWQgcmF0ZSBsaW1pdGluZ1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpXG4gICAgfSlcbiAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcylcblxuICAgIC8vIExvbmdlciBkZWxheSBiZXR3ZWVuIGJhdGNoZXNcbiAgICBpZiAoaSArIGJhdGNoU2l6ZSA8IHN5bWJvbHMubGVuZ3RoKSB7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coYFN1Y2Nlc3NmdWxseSBmZXRjaGVkICR7cmVzdWx0cy5zaXplfS8ke3N5bWJvbHMubGVuZ3RofSBwcmljZXNgKVxuICByZXR1cm4gcmVzdWx0c1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBJUE8gZ2Fpbi9sb3NzIHBlcmNlbnRhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUlQT0dhaW4obGF0ZXN0UHJpY2U6IG51bWJlciwgb2ZmZXJQcmljZU1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKCFvZmZlclByaWNlTWF4IHx8IG9mZmVyUHJpY2VNYXggPT09IDApIHJldHVybiAwXG4gIHJldHVybiAoKGxhdGVzdFByaWNlIC0gb2ZmZXJQcmljZU1heCkgLyBvZmZlclByaWNlTWF4KSAqIDEwMFxufVxuXG4vKipcbiAqIFRlc3QgZnVuY3Rpb24gdG8gdmVyaWZ5IEFQSSBpcyB3b3JraW5nXG4gKiBDYWxsIHRoaXMgdG8gdGVzdCBhIHNwZWNpZmljIHN5bWJvbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdGVzdEZldGNoUHJpY2Uoc3ltYm9sOiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coYFRlc3RpbmcgcHJpY2UgZmV0Y2ggZm9yICR7c3ltYm9sfS4uLmApXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoU3RvY2tQcmljZShzeW1ib2wsICdOU0UnKVxuICBpZiAocmVzdWx0KSB7XG4gICAgY29uc29sZS5sb2coYOKchSBTdWNjZXNzOiAke3N5bWJvbH0gPSDigrkke3Jlc3VsdC5wcmljZX1gKVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKGDinYwgRmFpbGVkOiAke3N5bWJvbH1gKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cbiJdLCJuYW1lcyI6WyJyZXNvbHZlWWFob29TeW1ib2wiLCJzeW1ib2wiLCJleGNoYW5nZSIsImNsZWFuU3ltYm9sIiwicmVwbGFjZSIsInRvVXBwZXJDYXNlIiwiZmV0Y2hGcm9tWWFob29GaW5hbmNlIiwieWFob29TeW1ib2wiLCJ1cmwiLCJyZXNwb25zZSIsImZldGNoIiwiaGVhZGVycyIsIm9rIiwiY29uc29sZSIsImVycm9yIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJyZXN1bHQiLCJjaGFydCIsIm1ldGEiLCJxdW90ZXMiLCJpbmRpY2F0b3JzIiwicXVvdGUiLCJjdXJyZW50UHJpY2UiLCJyZWd1bGFyTWFya2V0UHJpY2UiLCJjbG9zZSIsImxlbmd0aCIsInByZXZpb3VzQ2xvc2UiLCJvcGVuIiwicHJpY2UiLCJjaGFuZ2UiLCJjaGFuZ2VQZXJjZW50IiwiY3VycmVuY3kiLCJ0aW1lc3RhbXAiLCJEYXRlIiwibWVzc2FnZSIsImZldGNoRnJvbU5TRSIsImVuY29kZVVSSUNvbXBvbmVudCIsInByaWNlSW5mbyIsIm1ldGFkYXRhIiwiaW5mbyIsImxhc3RQcmljZSIsInByaWNlQ2hhbmdlIiwicHJpY2VDaGFuZ2VQZXJjZW50YWdlIiwiZmV0Y2hGcm9tR3Jvd3ciLCJsYXRlc3RQcmljZSIsImZldGNoU3RvY2tQcmljZSIsInlhaG9vUmVzdWx0IiwibG9nIiwibnNlUmVzdWx0IiwiZ3Jvd3dSZXN1bHQiLCJmZXRjaE11bHRpcGxlU3RvY2tQcmljZXMiLCJzeW1ib2xzIiwicmVzdWx0cyIsIk1hcCIsImJhdGNoU2l6ZSIsImkiLCJiYXRjaCIsInNsaWNlIiwicHJvbWlzZXMiLCJtYXAiLCJzZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJhbGwiLCJzaXplIiwiY2FsY3VsYXRlSVBPR2FpbiIsIm9mZmVyUHJpY2VNYXgiLCJ0ZXN0RmV0Y2hQcmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/stockPrice.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstock-price%2Fupdate%2Froute&page=%2Fapi%2Fstock-price%2Fupdate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-price%2Fupdate%2Froute.ts&appDir=C%3A%5CGame%20Cards%5CIPO%20Application%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CGame%20Cards%5CIPO%20Application&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();